---
import Layout from "@/layouts/Layout.astro";
import Hero from "@/components/Hero.astro";
import About from "@/components/About.astro";
import Registration from "@/components/Registration.astro";
import Footer from "@/components/Footer.astro";
import Header from "@/components/Header.astro";
import { getTranslatedPath, useTranslations } from "@/i18n/utils";

interface Props {
  lang?: string;
}

const { lang = "es" } = Astro.props;

// Simplified navigation for this dedicated page (focus on donation)
const t = useTranslations(lang as any);
const minimalNav = [
  { href: getTranslatedPath("/", lang), label: t("nav.home") },
];
---

<Layout title="Únete al Millón de Corazones | AFRO IN">
  <Header navLinks={minimalNav} />
  <main class="join-page">
    <Hero />
    <About />
    <!-- Reuse the Registration Component -->
    <Registration />
  </main>
  <Footer />
</Layout>

<style>
  /* join-page styles not strictly needed if components handle their own sections, 
     but keeping it for structure */
  .join-page {
    /* padding-top removed as Hero handles it */
  }

  /* Override/Adjust Registration Styles specifically for this page context if needed */
  :global(.registration.section) {
    padding-top: var(--space-xl);
    padding-bottom: var(--space-2xl);
    min-height: calc(
      100vh - 80px - 400px
    ); /* Approx viewport minus header/footer */
    display: flex;
    align-items: center;
  }
</style>
