---
import { getCollection } from "astro:content";
import ProgramacionSlugTemplate from "@/templates/ProgramacionSlugTemplate.astro";

export async function getStaticPaths() {
  const allDestinations = await getCollection("tour2026");
  // Filter only Spanish content (files without language suffix)
  // IDs are like "santa-marta", "santa-martaen", "santa-martafr"
  const destinations = allDestinations.filter(
    (d) => !d.id.endsWith("en") && !d.id.endsWith("fr")
  );
  return destinations.map((destination) => ({
    params: { slug: destination.id },
    props: { destination },
  }));
}

const { destination } = Astro.props;
---

<ProgramacionSlugTemplate destination={destination} lang="es" />
