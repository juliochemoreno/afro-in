---
import { Image } from "astro:assets";

// Import all ally logos
// Import all ally logos
import costenoBeach from "../assets/img/aliados/costeno-beach.webp";
import masaya from "../assets/img/aliados/masaya.webp";
import laPuerta from "../assets/img/aliados/la-puerta.webp";
import portalSuenos from "../assets/img/aliados/portal-de-mis-suenos.webp";
import kolaoHouse from "../assets/img/aliados/kolao-house.webp";
import kombilesaMi from "../assets/img/aliados/kombilesa-mi.webp";
import afroDanceAcademy from "../assets/img/aliados/afro-dance-academy.webp";
import charlyAfrica from "../assets/img/aliados/charly-africa.webp";
import aliAcademia from "../assets/img/aliados/ali-academia.webp";
import sumarte from "../assets/img/aliados/sumarte.webp";
import caribeamTeam from "../assets/img/aliados/caribeam-team.webp";
import kfMusic from "../assets/img/aliados/kf-music.webp";
import gCorp from "../assets/img/aliados/g-corp.webp";

// New allies
import afroCompany from "../assets/img/aliados/afro-company-santa-marta.jpg";
import casaLoma from "../assets/img/aliados/casa-loma.jpg";
import culturaIndependiente from "../assets/img/aliados/cultura-independiente.jpg";
import dancehallClass from "../assets/img/aliados/dancehall-class-colombia.jpg";
import djTang from "../assets/img/aliados/dj-tang-master-sound.jpg";
import fafoman from "../assets/img/aliados/fafoman.jpg";
import escenciaAfricana from "../assets/img/aliados/fundacion-escencia-africana.jpg";
import masayaTayrona from "../assets/img/aliados/masaya-tayrona.jpg";
import republicaHostels from "../assets/img/aliados/replublica-hostels.jpg";
import tayrosoft from "../assets/img/aliados/tayrosoft-logo.svg";

const allies = [
  // ROW 1: Strong Anchors (Hospitality & Venues)
  {
    name: "Costeno Beach",
    type: "Hostal & Surf",
    location: "Santa Marta",
    image: costenoBeach,
  },
  {
    name: "Masaya",
    type: "Hostels",
    location: "Santa Marta",
    image: masaya,
  },
  {
    name: "Masaya Tayrona",
    type: "Eco Hostel",
    location: "Tayrona",
    image: masayaTayrona,
  },

  {
    name: "Portal de mis Sueños",
    type: "Espacio Cultural",
    location: "Santa Marta",
    image: portalSuenos,
  },
  {
    name: "Casa Loma",
    type: "Minca Hostel",
    location: "Minca",
    image: casaLoma,
  },
  {
    name: "Republica Hostels",
    type: "Hostal",
    location: "Santa Marta",
    image: republicaHostels,
  },
  // ROW 2: Cultural Roots (Afro/Palenque)
  {
    name: "Kolao House",
    type: "Hospedaje",
    location: "Palenque",
    image: kolaoHouse,
  },
  {
    name: "Kombilesa Mi",
    type: "Música & Cultura",
    location: "Palenque",
    image: kombilesaMi,
  },
  {
    name: "Afro Dance Academy",
    type: "Academia",
    location: "Santa Marta",
    image: afroDanceAcademy,
  },
  {
    name: "Charly Africa",
    type: "Dance Studio",
    location: "Santa Marta",
    image: charlyAfrica,
  },
  {
    name: "Afro Company",
    type: "Cultura & Arte",
    location: "Santa Marta",
    image: afroCompany,
  },
  {
    name: "Dancehall Class Colombia",
    type: "Escuela de Baile",
    location: "Colombia",
    image: dancehallClass,
  },
  {
    name: "Fundación Escencia Africana",
    type: "Fundación",
    location: "Santa Marta",
    image: escenciaAfricana,
  },
  {
    name: "Fafoman",
    type: "Artista & Productor",
    location: "Santa Marta",
    image: fafoman,
  },
  // ROW 3: Services & Education
  {
    name: "Ali Academia",
    type: "Baile & Arte",
    location: "Santa Marta",
    image: aliAcademia,
  },
  {
    name: "Sumarte",
    type: "Fundación",
    location: "Santa Marta",
    image: sumarte,
  },
  {
    name: "Cultura Independiente",
    type: "Plataforma Cultural",
    location: "Colombia",
    image: culturaIndependiente,
  },
  {
    name: "Caribeam Team",
    type: "Producción",
    location: "Santa Marta",
    image: caribeamTeam,
  },
  {
    name: "DJ Tang Master Sound",
    type: "Productor Musical",
    location: "Santa Marta",
    image: djTang,
  },
  {
    name: "KF Music",
    type: "Consultancy",
    location: "Internacional",
    image: kfMusic,
  },
  // ROW 4: Corporate
  {
    name: "G Corp",
    type: "Corporativo",
    location: "Santa Marta",
    image: gCorp,
  },
  {
    name: "Tayrosoft",
    type: "Tecnología",
    location: "Santa Marta",
    image: tayrosoft,
  },
  {
    name: "La Puerta",
    type: "Bar & Cultural",
    location: "Santa Marta",
    image: laPuerta,
  },
];
---

<section class="allies section" id="aliados">
  <div class="container">
    <div
      class="allies-header text-center animate-fade-in-up"
      style="animation-delay: 0.1s"
    >
      <span class="section-badge">Nuestra Red</span>
      <h2 class="section-title">Aliados AFRO IN</h2>
      <p class="section-subtitle">
        Hostales, bares, restaurantes y espacios culturales que apoyan el
        movimiento.
      </p>
    </div>

    <div class="allies-grid animate-fade-in-up" style="animation-delay: 0.3s">
      {
        allies.map((ally) => (
          <div
            class="ally-card"
            title={`${ally.name} - ${ally.type} • ${ally.location}`}
          >
            <div class="ally-logo">
              <Image
                src={ally.image}
                alt={ally.name}
                class="ally-img"
                loading="lazy"
              />
            </div>
          </div>
        ))
      }
    </div>

    <div class="become-ally text-center">
      <div class="ally-cta card-glass">
        <h3>¿Quieres ser aliado AFRO IN?</h3>
        <p>
          Si tienes un hostal, bar, restaurante u otro negocio y quieres apoyar
          la cultura afro, te invitamos a unirte a nuestra red de aliados.
        </p>
        <a href="#contacto" class="btn btn-primary">Contáctanos</a>
      </div>
    </div>
  </div>
</section>

<style>
  .allies {
    background: var(--color-white);
  }

  .section-badge {
    display: inline-block;
    padding: var(--space-xs) var(--space-md);
    background: rgba(227, 28, 37, 0.1);
    border-radius: var(--radius-full);
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: var(--space-md);
  }

  .section-title {
    font-size: clamp(2rem, 5vw, 3rem);
    color: var(--color-secondary);
    margin-bottom: var(--space-md);
  }

  .section-subtitle {
    font-size: 1.2rem;
    color: var(--color-text-light);
    max-width: 600px;
    margin: 0 auto var(--space-xl);
  }

  /* Flexbox Grid for Centering Orphans */
  .allies-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
  }

  .ally-card {
    text-align: center;
    padding: var(--space-sm);
    background: transparent;
    box-shadow: none;
    border: none;
    /* 5 columns: 20% minus gap adjustment */
    flex: 0 0 calc(20% - var(--space-lg));
    max-width: 250px;
  }

  .ally-logo {
    width: 140px;
    height: 140px;
    margin: 0 auto;
    background: white;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .ally-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .become-ally {
    max-width: 600px;
    margin: 0 auto;
  }

  .ally-cta {
    text-align: center;
    padding: var(--space-xl);
  }

  .ally-cta h3 {
    font-size: 1.5rem;
    color: var(--color-secondary);
    margin-bottom: var(--space-md);
  }

  .ally-cta p {
    color: var(--color-text-light);
    margin-bottom: var(--space-lg);
  }

  @media (max-width: 1100px) {
    .ally-card {
      flex: 0 0 calc(33.333% - var(--space-lg)); /* 3 columns tablet landscape */
      max-width: 33.333%;
    }
  }

  @media (max-width: 768px) {
    .ally-card {
      flex: 0 0 calc(50% - var(--space-lg)); /* 2 columns tablet portrait */
      max-width: 50%;
    }
  }

  @media (max-width: 600px) {
    .allies-grid {
      gap: var(--space-sm);
    }

    .ally-card {
      /* 3 columns mobile, tighter spacing */
      flex: 0 0 calc(33.333% - var(--space-sm));
      max-width: 33.333%;
      padding: var(--space-xs);
    }

    .ally-logo {
      width: 100%;
      height: auto;
      aspect-ratio: 1;
      border-radius: var(--radius-sm);
    }
  }
</style>
