---
import { products } from "@/data/products";
import ProductCard from "./ProductCard.astro";
---

<section class="store section" id="tienda">
  <div class="container">
    <div
      class="store-header text-center animate-fade-in-up"
      style="animation-delay: 0.1s"
    >
      <span class="section-badge">Apoya con Estilo</span>
      <h2 class="section-title">Tienda AFRO IN</h2>
      <p class="section-subtitle">
        Cada compra apoya directamente a artistas y comunidades
        afro-colombianas.
      </p>
    </div>

    <div class="products-grid animate-fade-in-up" style="animation-delay: 0.3s">
      {
        products
          .sort((a, b) => b.id - a.id)
          .slice(0, 8)
          .map((product) => (
            <ProductCard product={product} showQuickAdd={false} />
          ))
      }
    </div>

    <div class="store-note text-center">
      <div class="note-card card-glass">
        <span class="note-icon">ðŸ’¡</span>
        <p>
          <strong>Â¿Quieres vender tus productos afro aquÃ­?</strong><br />
          Estamos buscando artesanos y diseÃ±adores para nuestra tienda.
          <a href="#contacto">ContÃ¡ctanos</a>
        </p>
      </div>
    </div>
  </div>
</section>

<style>
  .store {
    background: var(--color-white);
  }

  .section-badge {
    display: inline-block;
    padding: var(--space-xs) var(--space-md);
    background: rgba(227, 28, 37, 0.1);
    border-radius: var(--radius-full);
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: var(--space-md);
  }

  .section-title {
    font-size: clamp(2rem, 5vw, 3rem);
    color: var(--color-secondary);
    margin-bottom: var(--space-md);
  }

  .section-subtitle {
    font-size: 1.2rem;
    color: var(--color-text-light);
    max-width: 600px;
    margin: 0 auto var(--space-xl);
  }

  .products-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
  }

  .product-image,
  .product-img,
  .product-name,
  .product-prices,
  .price-cop,
  .price-usd,
  .product-btn,
  .product-badge {
    /* Styles moved to ProductCard component */
    display: none; /* Just to be safe if any old HTML remains, though it shouldn't */
  }

  .store-note {
    max-width: 600px;
    margin: 0 auto;
  }

  /* ... rest of note-card styles ... */
  .note-card {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    text-align: left;
  }

  .note-icon {
    font-size: 2rem;
    flex-shrink: 0;
  }

  .note-card p {
    color: var(--color-text-light);
    font-size: 0.95rem;
  }

  .note-card a {
    color: var(--color-primary);
    font-weight: 600;
  }

  .note-card a:hover {
    text-decoration: underline;
  }

  @media (max-width: 968px) {
    .products-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 600px) {
    .products-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-sm);
    }

    .note-card {
      flex-direction: column;
      text-align: center;
    }
  }
</style>
```
